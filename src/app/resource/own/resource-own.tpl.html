<div class="card" ng-if="resources.length">
  <div class="card-heading" id="resource-info">
    <h2 class="card-title">
      {{ 'MY_RESOURCES' | translate }} ({{ resources.length }})
    </h2>
  </div>

  <div class="card-body">
    <ul class="list-unstyled list-row">
      <li ng-repeat="resource in resources" >

        <div class="resourceOwnListDesktop" hide-xs>

          <img ui-sref="owm.resource.edit({ resourceId: resource.id })"
            class="media-object pull-left"
            ng-src="{{ resource.pictures[0] | resourceAvatar:'normal' }}" 
          >

          <div class="pull-left text-left">
            <div class="truncate" ui-sref="owm.resource.edit({ resourceId: resource.id })">
              <md-icon>directions_car</md-icon> {{ resource.alias }}
            </div>

            <div class="truncate">
              <md-icon>location_on</md-icon> {{ resource.location }} {{ resource.streetNumber }} {{ resource.city }}
            </div>

            <div class="truncate" ng-if="!resource.isActive" class="not-available">
              <md-icon>warning</md-icon> {{ 'RESOURCE_INACTIVE_WARNING' | translate }}
            </div>

            <div class="truncate available" ng-if="(resource.isAvailableOthers || resource.isAvailableFriends) && resource.isActive">
              <md-icon class="available">check</md-icon> {{ 'RESOURCE_AVAILABLE' | translate }}
            </div>

            <div class="truncate not-available" ng-if="!resource.isAvailableOthers && !resource.isAvailableFriends && resource.isActive">
              <md-icon class="not-available">warning</md-icon> {{ 'RESOURCE_NOT_AVAILABLE_WARNING' | translate }}
            </div>
          </div>

          <div class="pull-right text-right">
            <div class="truncate">
              <md-icon>settings</md-icon> <a ui-sref="owm.resource.edit({ resourceId: resource.id })">{{ 'EDIT_RESOURCE' | translate }}</a>
            </div>

            <div class="truncate" ng-if="(resource.isAvailableOthers || resource.isAvailableFriends) && resource.isActive">
              <md-icon>close</md-icon> <a ng-click="setResourceAvailability(resource, false)">{{ 'AVAILABLE_RESOURCE' | translate }}</a>
            </div>

            <div class="truncate" ng-if="!resource.isAvailableOthers && !resource.isAvailableFriends && resource.isActive">
              <md-icon>check</md-icon> <a ng-click="setResourceAvailability(resource, true)">{{ 'NOT_AVAILABLE_RESOURCE' | translate }}</a>
            </div>

            <div class="truncate" ng-if="resource.boardcomputer && resource.boardcomputer !== 'ccome' && resource.owner.id === me.id">
              <md-icon>place</md-icon> <a ng-click="location(resource)">{{ 'SHOW_LOCATION_ON_MAP' | translate }}</a>
            </div>

            <parkingpermit ng-if="features.parkingpermit" resource="resource" resource-list="resources"></parkingpermit>
          </div>
        </div>

        <div class="resourceOwnListMobile" hide-gt-xs>

          <img ui-sref="owm.resource.edit({ resourceId: resource.id })"
            class="media-object"
            ng-src="{{ resource.pictures[0] | resourceAvatar:'large' }}"
          >

          <div class="truncate" ui-sref="owm.resource.edit({ resourceId: resource.id })">
            <md-icon>directions_car</md-icon> {{ resource.alias }}
          </div>

          <div class="truncate">
            <md-icon>location_on</md-icon> {{ resource.location }} {{ resource.streetNumber }} {{ resource.city }}
          </div>

          <div class="truncate" ng-if="!resource.isActive" class="not-available">
            <md-icon>warning</md-icon> {{ 'RESOURCE_INACTIVE_WARNING' | translate }}
          </div>

          <div class="truncate available" ng-if="(resource.isAvailableOthers || resource.isAvailableFriends) && resource.isActive">
            <md-icon class="available">check</md-icon> {{ 'RESOURCE_AVAILABLE' | translate }}
          </div>

          <div class="truncate not-available" ng-if="!resource.isAvailableOthers && !resource.isAvailableFriends && resource.isActive">
            <md-icon class="not-available">warning</md-icon> {{ 'RESOURCE_NOT_AVAILABLE_WARNING' | translate }}
          </div>

          <h4>Acties</h4>
          <div class="truncate">
            <md-icon>settings</md-icon> <a ui-sref="owm.resource.edit({ resourceId: resource.id })">{{ 'EDIT_RESOURCE' | translate }}</a>
          </div>

          <div class="truncate" ng-if="(resource.isAvailableOthers || resource.isAvailableFriends) && resource.isActive">
            <md-icon>close</md-icon> <a ng-click="setResourceAvailability(resource, false)">{{ 'AVAILABLE_RESOURCE' | translate }}</a>
          </div>

          <div class="truncate" ng-if="!resource.isAvailableOthers && !resource.isAvailableFriends && resource.isActive">
            <md-icon>check</md-icon> <a ng-click="setResourceAvailability(resource, true)">{{ 'NOT_AVAILABLE_RESOURCE' | translate }}</a>
          </div>

          <div class="truncate" ng-if="resource.boardcomputer && resource.boardcomputer !== 'ccome' && resource.owner.id === me.id">
            <md-icon>place</md-icon> <a ng-click="location(resource)">{{ 'SHOW_LOCATION_ON_MAP' | translate }}</a>
          </div>

          <parkingpermit ng-if="features.parkingpermit" resource="resource" resource-list="resources"></parkingpermit>
        </div>

      </li>
    </ul>
  </div>
</div>

<div class="card" ng-if="features.ownerFlow">
  <div class="card-heading">
    <div ng-show="!resources.length">
      <h2 class="card-title">
        Je hebt nog geen auto toegevoegd
      </h2>
      <br/>
    </div>
    <button type="button" name="button" class="mywheels-btn mywheels-btn-default" ui-sref="list-your-car">
      {{ 'CREATE_RESOURCE_BUTTON' | translate }}
    </button>
  </div>
</div>

<div class="card" ng-if="!features.ownerFlow">
  <div class="card-heading">
    <h2 class="card-title" ng-show="!resources.length">
      {{ 'CREATE_RESOURCE_TITLE' | translate }}
    </h2>

    <h3 class="card-title" ng-show="resources.length">
      {{ 'CREATE_RESOURCE_TITLE' | translate }}
    </h3>
  </div>

  <div class="card-body">
    <p>{{ 'CREATE_RESOURCE_ADVERTISEMENT1' | translate }}</p>

    <form ng-submit="save(resource)" name="createResourceForm">
      <div class="form-group">
        <label for="registrationPlate">{{'REGISTRATION_PLATE' | translate}}</label>
        <input class="form-control" type="text" id="registrationPlate" name="registrationPlate" ng-model="resource.registrationPlate" required />
      </div>

      <div class="form-group">
        <button id="submitForm" type="submit" class="btn btn-primary" ng-disabled="createResourceForm.$pristine">{{ 'SUBMIT' | translate }}</button>
      </div>
    </form>
  </div>

</div>