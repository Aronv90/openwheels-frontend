<div class="container" ng-class="{ 'container-transitional': containerTransitional, 'container-home': containerHome, 'intro__page': containerIntro }">
  <md-toolbar class="app-toolbar">

    <div class="md-toolbar-tools">

      <a class="app-logo" ui-sref="home">
        <img ng-src="branding/img/logo.png" />
      </a>

      <!-- menu button -->
      <md-button id="toolbarMenu" hide-gt-xs class="md-icon-button" ng-click="openMenu()">
        <md-icon>menu</md-icon>
      </md-button>
      <md-button id="toolbarMenu" hide-xs ng-click="openMenu()">
        <md-icon>menu</md-icon>
        <span>Menu</span>
      </md-button>

      <span flex></span>

      <!-- help button -->
      <md-button id="toolbarHelp" hide-gt-xs ng-if="user.isAuthenticated" class="md-icon-button" href="{{ 'NAVBAR.HOW_IT_WORKS_URL' | translate }}">
        <md-icon>help_outline</md-icon>
      </md-button>
      <md-button id="toolbarHelp" hide-xs ng-if="user.isAuthenticated" href="{{ 'NAVBAR.HOW_IT_WORKS_URL' | translate }}">
        <md-icon>help_outline</md-icon>
        <span>Help</span>
      </md-button>

      <!-- mywheels open -->
      <md-button class="app--toolbar--button--text btn-blue" id="toolbarMyWheelsOpen" hide-xs hide-sm ng-if="!user.isAuthenticated && onListYourCarPage" href="http://open.mywheels.nl/?utm_source=website&utm_medium=homepage&utm_campaign=activation-mywheels-open-header" target="_blank">
        <!-- <md-icon>directions_car</md-icon> -->
        <span>{{ 'MYWHEELS_OPEN_HEADLINE' | translate }}</span>
      </md-button>

      <!-- add resource -->
      <md-button id="toolbarListyourcar" hide-xs hide-sm ng-if="!user.isAuthenticated && !onSignUpPage && !onListYourCarPage" ui-sref="list-your-car">
        <md-icon>directions_car</md-icon>
        <span>{{ 'LIST_YOUR_CAR' | translate }}</span>
      </md-button>

      <!-- spinner -->
      <div ng-if="user.isPending">
        <i class="fa fa-spinner fa-spin text-muted"></i>
      </div>

      <!-- signup -->
      <md-button id="toolbarSignup" ng-if="!user.isPending && !user.isAuthenticated && !onSignUpPage" class="btn-green app--toolbar--button--text" ui-sref="owm.auth.signup" ng-show="!invitedBySlug">
        <md-icon hide-xs>person_outline</md-icon>
        <span>{{ 'SIGNUP' | translate }}</span>
      </md-button>

      <!-- signup -->
      <md-button id="toolbarSignup" ng-if="!user.isPending && !user.isAuthenticated && !onSignUpPage" class="btn-green app--toolbar--button--text" ui-sref="subscribe({ slug: invitedBySlug })" ng-show="invitedBySlug">
        <md-icon hide-xs>person_outline</md-icon>
        <span>{{ 'SIGNUP' | translate }}</span>
      </md-button>

      <!-- login -->
      <md-button id="toolbarLogin" ng-if="isWindowSizeSM && !user.isPending && !user.isAuthenticated && !centralb" ng-click="login()">
        <md-icon>person</md-icon>
        <span>{{ 'LOGIN' | translate }}</span>
      </md-button>

      <!-- user menu -->
      <md-menu md-position-mode="target-right target" ng-if="user.isAuthenticated" ng-class="{ 'user-name-visible': isWindowSizeSM }">

        <md-button id="toolbarPersonmenu" class="user-menu-button" ng-class="{ 'md-icon-button': !isWindowSizeSM }" ng-click="$mdOpenMenu($event)">
          <md-icon md-menu-origin>person</md-icon>
          <span ng-if="isWindowSizeSM" class="user-name">{{ user.identity.firstName }}</span>
        </md-button>

        <md-menu-content width="4">
          <md-menu-item md-menu-align-target>
            <md-button id="toolbarPersonmenuDashboard" ui-sref="owm.person.dashboard">
              <md-icon>home</md-icon>
              <span>{{ 'MY_DASHBOARD' | translate }}</span>
              <span md-menu-align-target></span>
            </md-button>
          </md-menu-item>

          <md-menu-item ng-if="user.identity.preference === 'owner' || user.identity.status !== 'new' || user.identity.provider.id !== 1">
            <md-button id="toolbarPersonmenuGegevens" ui-sref="owm.person.profile">
              <md-icon>settings</md-icon>
              <span>{{ 'MY_PROFILE' | translate }}</span>
            </md-button>
          </md-menu-item>

          <md-menu-item ng-if="user.identity.preference !== 'owner' && user.identity.status === 'new' && user.identity.provider.id === 1">
            <md-button id="toolbarPersonmenuGegevens" ui-sref="owm.person.details({pageNumber: '1'})">
              <md-icon>settings</md-icon>
              <span>{{ 'MY_PROFILE' | translate }}</span>
            </md-button>
          </md-menu-item>

          <md-menu-item ng-if="user.identity.provider.id == 1">
            <md-button id="toolbarPersonmenuInvite" ui-sref="invite">
              <md-icon>share</md-icon>
              <span>{{ 'INVITE_FRIENDS_MENU' | translate }}</span>
            </md-button>
          </md-menu-item>

          <md-menu-divider></md-menu-divider>

          <md-menu-item>
            <md-button id="toolbarPersonmenuLogout" ng-click="logout()">
              <md-icon>power_settings_new</md-icon>
              <span>{{ 'LOGOUT' | translate }}</span>
            </md-button>
          </md-menu-item>
        </md-menu-content>
      </md-menu>

    </div>

  </md-toolbar>
</div>
