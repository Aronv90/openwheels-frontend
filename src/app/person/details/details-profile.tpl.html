<div class="progress--steps">
    <section class="step" data-section="1" title="Bassis gegevens aanvullen" ng-class="{'selected': detailNumber === 0 ? true : false, 'done': detailNumber > 0 ? true : false }"></section>
    <section class="step" data-section="2" title="Rijbewijs uploaden" ng-class="{'selected': detailNumber === 1 ? true : false, 'done': detailNumber > 1 ? true : false}"></section>
    <section class="step last-step" data-section="3" title="betalen" ng-class="{'selected': detailNumber === 2 ? true : false, 'done': detailNumber > 2 ? true : false }"></section>
</div>

<section class="details--profile__overview">
    <!-- PERSONAL DATA  -->

    <div class="card animated section-transion details--card__section" id="personal-data" ng-show="showFirst">
        <div class="card-body details--card">
            <section resource-sidebar class="details--profile__sidebar"></section>
            <form class="mywheels-form details--profile--form" name="personalDataForm" ng-submit="subscribe(credentials, person, license_front)">
                <h2 class="card-title">1. Eerst een paar bassisgegevens</h2>
                <h3>{{ 'MY_PROFILE_PERSONAL' | translate }}</h3>

                <!-- firstName -->
                <div id="firstName_group" class="icon user">
                    <input type="text" name="firstName" id="firstName" ng-model="person.firstName" placeholder="{{ 'FIRST_NAME' | translate }}" required>
                    <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.firstName.$touched">
                        <span class="text-danger" ng-show="personalDataForm.firstName.$error.required">{{ 'REQUIRED' | translate }}</span>
                    </div>
                </div>
                <!-- /firstName -->
                <div class="responsive">
                    <!-- prepostion -->
                    <div id="prepostion_group" class="icon user smallfrom" flex="33">
                        <input type="text" name="preposition" id="prepostion" ng-model="person.preposition" placeholder="{{ 'PREPOSITION' | translate }}">
                    </div>
                    <!-- /prepostion -->

                    <!-- surName -->
                    <div id="surname_group" class="icon user" flex="77">
                        <input type="text" name="surname" id="surname" ng-model="person.surname" placeholder="{{ 'SURNAME' | translate }}" required>
                        <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.surname.$touched">
                            <span class="text-danger" ng-show="personalDataForm.surname.$error.required">{{ 'REQUIRED' | translate }}</span>
                        </div>
                    </div>
                    <!-- /surName -->
                </div>
                <!-- dateOfBirth -->

                <div id="date" class="icon date">
                    <input type="text" id="dateOfBirth" name="dateOfBirth" ng-model="person.dateOfBirth" placeholder="{{ 'DATE_OF_BIRTH' | translate }}" pickadate="dateConfig" require>
                    <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.dateOfBirth.$touched">
                        <span class="text-danger" ng-show="personalDataForm.dateOfBirth.$error.required">{{ 'REQUIRED' | translate }}</span>
                    </div>
                </div>
                <!-- /dateOfBirth -->

                <!-- gender -->
                <div class="gender--options">
                    <div class="gender--options__option">
                        <input type="radio" ng-model="genderText" ng-change="person.male = genderText==='male' ? true : (genderText==='female' ? false : null)" id="male" value="male">
                        <label for="male">{{ 'MALE' | translate }}</label>
                    </div>
                    <div class="gender--options__option">
                        <input type="radio" ng-model="genderText" ng-change="person.male = genderText==='male' ? true : (genderText==='female' ? false : null)" value="female" id="female">
                        <label for="female">{{ 'FEMALE' | translate }}</label>
                    </div>
                </div>
                <p class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.genderText.$touched">
                    <span class="text-danger">{{ 'REQUIRED' | translate }}</span>
                </p>
                <!-- /gender -->

                <!-- phone number -->
                <h3>{{ 'PHONENUMBER' | translate }}</h3>
                <div ng-repeat="p in person.phoneNumbers" class="field-margin">
                    <div class="input-group">
                        <span class="input-group-btn" ng-if="person.phoneNumbers.length > 1">
                            <button type="button" class="btn btn-default" ng-click="removePhone(p, $index)"><i class="fa fa-trash-o"></i></button>
                    </span>
                        <input type="text" class="form-control" id="number-{{ $index }}" ng-model="p.number">
                        <span class="input-group-addon">
                            <input type="checkbox" name="confidential" ng-model="p.confidential"> {{ 'CONFIDENTIAL' | translate }}
                    </span>
                    </div>
                </div>
                <!-- /phone number -->

                <!-- zipcode -->
                <h3>{{ 'MY_PROFILE_ADDRESS' | translate }}</h3>
                <div class="responsive">
                    <div id="zipcode_group" class="icon home field">
                        <input type="text" name="zipcode" id="zipcode" ng-model="person.zipcode" placeholder="{{ 'ZIPCODE' | translate }}" required="true">
                        <md-progress-circular class="md-hue-2" md-diameter="20px" ng-if="zipcodeAutocompleting"></md-progress-circular>
                        <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.zipcode.$touched">
                            <span class="text-danger" ng-show="personalDataForm.zipcode.$error.required">{{ 'REQUIRED' | translate }}</span>
                        </div>
                    </div>
                    <!-- /zipcode -->

                    <!-- streetNumber -->
                    <div id="streetNumber_group" class="icon home field">
                        <input type="text" name="streetNumber" id="streetNumber" ng-model="person.streetNumber" placeholder="{{ 'STREET_NUMBER' | translate }}" required="true">
                        <md-progress-circular class="md-hue-2" md-diameter="20px" ng-if="zipcodeAutocompleting"></md-progress-circular>
                        <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.streetNumber.$touched">
                            <span class="text-danger" ng-show="personalDataForm.streetNumber.$error.required">{{ 'REQUIRED' | translate }}</span>
                        </div>
                    </div>
                    <!-- /streetNumber -->
                </div>
                <!-- streetName -->
                <div id="streetName_group" class="icon home field">
                    <input type="text" name="streetName" id="streetName" ng-model="person.streetName" placeholder="{{ 'STREET_NAME' | translate }} " required="true" ng-readonly="person.country === 'Nederland'">
                    <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.streetName.$touched">
                        <span class="text-danger" ng-show="personalDataForm.streetName.$error.required">{{ 'REQUIRED' | translate }}</span>
                        <span class="text-danger" ng-if="!person.streetName">{{ 'ENTER_ZIPCODE_STREET_NUMBER' | translate }}</span>
                    </div>
                </div>
                <!-- /streetName -->

                <!-- city -->
                <div id="city_group" class="icon home field">
                    <input type="text" name="city" id="city" ng-model="person.city" placeholder="{{ 'CITY' | translate }} " required="true" ng-readonly="person.country === 'Nederland'">
                    <div class="help-block" ng-show="personalDataForm.$submitted || personalDataForm.city.$touched">
                        <span class="text-danger" ng-show="personalDataForm.city.$error.required">{{ 'REQUIRED' | translate }}</span>
                        <span class="text-danger" ng-if="!person.city">{{ 'ENTER_ZIPCODE_STREET_NUMBER' | translate }}</span>
                    </div>
                </div>
                <!-- /city -->

                <div class="details--card--form__navigation-buttons">
                    <div></div>
                    <!-- submit button -->
                    <button id="submitFormPersonal" type="button" class="mywheels-btn mywheels-btn-default btn--navigation__next" ng-click="submitPersonalDataForm()" ng-disabled="personalDataForm.firstName.$error.required || personalDataForm.surname.$error.required || signupform.dateOfBirth.$error.required">
                        Volgende
                        <md-icon class="text-white">navigate_next</md-icon>
                    </button>

                    <!-- /submit button -->
                </div>
            </form>
        </div>
    </div>
    <!--/ card -->

    <!-- card -->
    <div class="card animated section-transion details--card__section" id="license-upload" ng-show="showSecond">
        <div class="card-body details--license-upload details--card">
            <section resource-sidebar class="details--profile__sidebar"></section>
            <!-- upload license -->
            <section class="details--card--form">
                <h2 class="card-title">2. Dan nu je rijbewijs</h2>

                <div class="checklist">
                    <ul>
                        <li>
                            <md-icon>check</md-icon><span>Alles goed leesbaar</span></li>
                        <li>
                            <md-icon>check</md-icon><span>Voorkant geupload</span></li>
                        <li>
                            <md-icon>check</md-icon><span>Niet verlopen of ongeldig</span></li>
                    </ul>
                </div>
                <div class="file-input" ng-show="!containsLicence">
                    <span class="filename" id="filename"> {{licenceFileName}}</span>
                    <label for="licenseFrontFile" class="mywheels-btn mywheels-btn-normal">Selecteer
                        <input type="file" name="imageFile" for="licenseFrontFile" value="" class="uploadfile-input" id="licenseFrontFile">
                    </label>
                </div>
                <div class="details--card--form__preview">
                    <img src="assets/img/rijbewijs_voorbeeld.jpg" alt="" id="licence-preview">
                </div>
                <div ng-show="containsLicence || LicenceUploaded">
                    <p>Is dit rijbewijs goed leesbaar en geldig?</p>
                    <button title="upload" type="button" class="mywheels-btn mywheels-btn-normal btn--navigation__previous" md-ink-ripple="#4b702c" ng-disabled="!images.front || isBusy" ng-click="startUpload()">
                        Ja
                    </button>
                    <button type="button" class="mywheels-btn mywheels-btn-error btn--navigation__previous" md-ink-ripple="#9a3d26" ng-click="cancelUpload()">
                        nee
                    </button>
                </div>
                <div class="details--card--form__navigation-buttons">
                    <button rel="prev" type="button" class="mywheels-btn mywheels-btn-transparant btn--navigation__previous" md-ink-ripple="#ded8d8" ng-click="prevSection(0, 1)">
                        <md-icon>navigate_before</md-icon>
                        {{ 'PREVIOUS' | translate}}
                    </button>
                    <button rel="next" type="button" class="mywheels-btn mywheels-btn-default btn--navigation__next" ng-click="nextSection()" ng-disabled="!LicenceUploaded">
                        {{ 'NEXT' | translate}}
                        <md-icon class="text-white">navigate_next</md-icon>
                    </button>
                </div>
            </section>
        </div>
    </div>
    <!--/ card -->

    <!-- card -->
    <div class="card animated section-transion details--card__section" ng-show="showThird">
        <div class="card-body details--card">
            <section resource-sidebar class="details--profile__sidebar"></section>
            <section class="details--card--form">
                <h2 class="card-title">3. Je bent er bijna!</h2> {{booking.booking_price}}
                <p ng-if="booking.approved ===  'BUY_VOUCHER' ">
                    We hebben de boeking voor je gemaakt. Betaal de huurkosten via iDeal en de boeking is definitief!
                </p>
                <p ng-if="booking.approved !==  'BUY_VOUCHER' ">
                    We hebben het huurverzoek naar {{person.firstName}} {{person.preposition}} {{person.surname}} gestuurd. Je kunt de rit hieronder alvast betalen. De boeking is dan definitief na acceptatie door *naam verhuurder*.
                </p>
                <voucher data="{{ booking }}" ng-if="!busy"></voucher>
                <p ng-if="booking.approved !==  'BUY_VOUCHER' ">
                    Wil je de rit nog niet betalen? Klik dan hier om je profiel aan te vullen.
                    <button type="button" name="button" type="button" class="mywheels-btn mywheels-btn-default btn--navigation__next">Vul aan</button>
                </p>
                <div class="details--card--form__navigation-buttons">
                    <button rel="prev" type="button" class="mywheels-btn mywheels-btn-transparant btn--navigation__previous" md-ink-ripple="#ded8d8" ng-click="prevSection(1, 2)">
                        <md-icon>navigate_before</md-icon>
                        {{ 'PREVIOUS' | translate}}
                    </button>
                    <button rel="next" type="button" class="mywheels-btn mywheels-btn-default btn--navigation__next" ng-click="buyVoucher(booking.booking_price.total + booking.km_price)">
                        {{ 'PAY' | translate}}
                        <md-icon class="text-white">navigate_next</md-icon>
                    </button>
                </div>
            </section>
        </div>
    </div>
    <!--/ card -->
</section>
