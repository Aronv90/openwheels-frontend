
<div class="mw-profile-details-steps">
    <div ng-if="isBlocked">
        <div class="container container-transitional">
            <div class="row">
                <div class="rpad col-md-8 col-md-offset-2 col-xs-12">
                    <div class="card inverted-heading mw-error" style="margin-top: 4rem; ">
                        <div class="card-heading main-heading">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <h2 class="card-title">Deze boeking is helaas niet mogelijk</h2>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <p>Bij aanmeldingen en lopende lidmaatschappen screenen we voortdurend alle leden van MyWheels. Dit is de enige manier waarop we een betrouwbare community kunnen garanderen. Bij deze controle is op jouw account een verhoogd risico geconstateerd. Je account is daarom gedeactiveerd. Toekomstige boekingen zijn geannuleerd en eventueel rijtegoed wordt teruggestort.</p>

                                    <p>Voor meer informatie over jouw account kun je een e-mail sturen naar <a href="account@mywheels.nl">account@mywheels.nl</a>. Het is in verband met de privacywetgeving niet mogelijk om hier telefonisch navraag over te doen.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Using `ng-show` instead of `ng-if`, because else the licenseDataForm is not registered to the $scope as expected.
         See [https://stackoverflow.com/questions/40648638/angularjs-form-inside-ng-if-not-accessible-from-controller] -->
    <div ng-show="!isBlocked">
        <div class="progress-steps">
            <div class="step"
                 data-section="1"
                 title="Basisgegevens"
                 ng-class="{
                   selected: (pageNumber === 1),
                   done: (pageNumber > 1),
                 }"
                 ui-sref="owm.person.details({pageNumber: '1'})">
                <div class="n">1</div>
                <div class="step-label">Basisgegevens</div>
            </div>
            <div class="line" ng-class="{ done: (pageNumber > 1) }"></div>
            <div class="step"
                 data-section="2"
                 title="Rijbewijs"
                 ng-class="{
                   selected: (pageNumber === 2),
                   done: (pageNumber > 2),
                 }"
                 ui-sref="owm.person.details({pageNumber: '2'})">
                <div class="n">2</div>
                <div class="step-label">Rijbewijs</div>
            </div>
            <div class="line" ng-class="{ done: (pageNumber > 2) }"></div>
            <div class="step last-step"
                 data-section="3"
                 title="{{isbooking !== true ? 'Auto zoeken' : 'Betalen'}}"
                 ng-class="{
                   selected: (pageNumber === 3),
                   done: (pageNumber > 3),
                 }"
                 ng-click="nextSection()">
                <div class="n">3</div>
                <div class="step-label">{{isbooking !== true ? 'Auto zoeken' : 'Betalen'}}</div>
            </div>
        </div>

        <div class="container container-transitional">
            <div class="row">
                <div class="rpad" :ng-class="{
                    'col-md-8 col-xs-12': withSidebar,
                    'col-md-8 col-md-offset-2 col-xs-12': !withSidebar,
                }">
                    <!-- FIRST PAGE / PERSONAL DATA  -->
                    <div class="card inverted-heading" id="personal-data" ng-show="showFirst">
                        <div class="card-heading main-heading">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <h2 class="card-title">{{ 'DETAILS_PROFILE_BASIC' | translate }}</h2>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <p ng-if="isbooking" translate="DETAILS_PROFILE_BASIC_TEXT" translate-values="{firstName: person.firstName}"> </p>
                                    <personal-data next="nextSection()"></personal-data>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--/ card -->

                    <!-- SECOND PAGE / LICENSE INFORMATION -->
                    <div class="card inverted-heading" id="license-upload" ng-show="showSecond && checkedLater">
                        <div class="card-heading main-heading">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <h2 class="card-title">{{ 'DETAILS_PROFILE_LATER' | translate }}</h2>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <p>{{ 'DETAILS_PROFILE_LATER_TEXT' | translate }}</p>
                                    <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="prevSection(0, 1)">
                                        <ng-md-icon icon="navigate_before"></ng-md-icon>
                                        {{ 'PREVIOUS' | translate}}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card inverted-heading" id="license-upload" ng-show="showSecond && !checkedLater">
                        <div class="card-heading main-heading">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <h2 class="card-title">{{ 'DETAILS_PROFILE_LICENSE' | translate }}</h2>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-10 col-sm-offset-1">
                                    <div ng-show="licenseUploaded">
                                        <ng-md-icon icon="check"></ng-md-icon> {{ 'LICENSE_ALREADY_UPLOADED' | translate }}
                                    </div>

                                    <div ng-show="!licenseUploaded && !loadLicenseState">
                                        <div>
                                            <p class="ng-scope">{{ 'LICENSE_DATA' | translate }}</p>
                                            <ul class="checklist">
                                                <li>
                                                    <ng-md-icon icon="check"></ng-md-icon>
                                                    <span>{{ 'LICENSE_VALID' | translate }}</span>
                                                </li>
                                                <li>
                                                    <ng-md-icon icon="check"></ng-md-icon>
                                                    <span>{{ 'LICENSE_OWN' | translate }}</span>
                                                </li>
                                            </ul>
                                        </div>

                                        <spinner ng-if="!licenseAllowedCountries" />

                                        <div ng-show="licenseAllowedCountries">
                                            <h3 style="margin-top: 2rem;">Land van uitgifte</h3>
                                            <form class="mywheels-form">
                                                <div class="form-group">
                                                    <div class="select-icon" ng-if="licenseAllowedCountries">
                                                        <select name="licenseCountry" ng-model="licensePage.country" ng-options="o.alpha2 as o.endonym for o in licenseAllowedCountries" required>
                                                        </select>
                                                    </div>
                                                </div>
                                            </form>

                                            <form name="licensePicturesForm" ng-if="licensePage.country !== 'NL'">
                                                <h3 style="margin-top: 1.5em;">Upload foto's rijbewijs</h3>
                                                <p>Upload een foto van zowel de voorzijde als de achterzijde van je rijbewijs. Let hierbij op de volgende punten:</p>

                                                <div class="row is-flex" style="text-align: center; margin-bottom: 2rem;">
                                                    <div class="col-xs-6 col-md-3">
                                                        <ng-md-icon size="40" style="height: 40px; width: 40px; margin: 1rem auto 0; color: black;" icon="volledig_document"></ng-md-icon>
                                                        <div>Zorg dat het hele document recht op de foto staat</div>
                                                    </div>
                                                    <div class="col-xs-6 col-md-3">
                                                        <ng-md-icon size="40" style="height: 40px; width: 40px; margin: 1rem auto 0; color: black;" icon="voldoende_licht"></ng-md-icon>
                                                        <div>Zorg voor voldoende licht</div>
                                                    </div>
                                                    <div class="col-xs-6 col-md-3">
                                                        <ng-md-icon size="40" style="height: 40px; width: 40px; margin: 1rem auto 0; color: black;" icon="geen_flits"></ng-md-icon>
                                                        <div>Gebruik geen flits</div>
                                                    </div>
                                                    <div class="col-xs-6 col-md-3">
                                                        <ng-md-icon size="40" style="height: 40px; width: 40px; margin: 1rem auto 0; color: black;" icon="geen_reflecties"></ng-md-icon>
                                                        <div>Zorg dat er geen reflecties ontstaan</div>
                                                    </div>
                                                </div>

                                                <div class="row is-flex">
                                                    <div class="col-xs-12 col-md-6">
                                                        <p>
                                                            <strong>Foto voorkant</strong>
                                                        </p>
                                                        <div ng-show="!licensePage.front">
                                                            <div
                                                                ngf-drop
                                                                ngf-select
                                                                ng-model="licensePage.front"
                                                                name="front"
                                                                class="well well-lg upload-well"
                                                                ngf-drag-over-class="'dragover'"
                                                                accept="image/*"
                                                                required
                                                                ngf-pattern="'image/*'"
                                                                ngf-min-size="1MB"
                                                                ngf-max-size="10MB"
                                                                ngf-min-width="500"
                                                                ngf-min-height="500"
                                                            >
                                                                <em>Sleep een foto of klik om een foto te selecteren</em>
                                                            </div>
                                                            <p class="text-danger" ng-show="licensePicturesForm.front.$error.minHeight || licensePicturesForm.front.$error.minWidth ">
                                                                De foto moet minimaal 500px breed en hoog zijn.
                                                            </p>
                                                            <p class="text-danger" ng-show="licensePicturesForm.front.$error.minSize || licensePicturesForm.front.$error.maxSize">
                                                                De bestandsgrootte van de foto moet tussen de 1 en 10 megabyte liggen.
                                                            </p>
                                                            <p class="text-danger" ng-show="licensePicturesForm.front.$error.pattern">
                                                                Selecteer ajb een foto-bestand.
                                                            </p>
                                                            <p class="text-danger" ng-show="licensePicturesForm.front.$error.required && dl_submitted">
                                                                Selecteer ajb een foto-bestand.
                                                            </p>
                                                        </div>
                                                        <p ng-if="licensePage.front">
                                                            <img
                                                                class="img-responsive"
                                                                ng-src="/assets/uploadspinner.gif"
                                                                ngf-thumbnail="licensePage.front"
                                                                ngf-size="{ width: 300, height: 200, quality: 0.9 }"
                                                            />
                                                        </p>
                                                        <p ng-if="licensePage.front">
                                                            (<a href="#" ng-click="licensePage.front = null">Ander bestand uploaden</a>)
                                                        </p>
                                                    </div>
                                                    <div class="col-xs-12 col-md-6">
                                                        <p>
                                                            <strong>Foto achterkant</strong>
                                                        </p>
                                                        <div ng-show="!licensePage.back">
                                                            <div
                                                                ngf-drop
                                                                ngf-select
                                                                ng-model="licensePage.back"
                                                                name="back"
                                                                class="well well-lg upload-well"
                                                                ngf-drag-over-class="'dragover'"
                                                                accept="image/*"
                                                                required
                                                                ngf-pattern="'image/*'"
                                                                ngf-min-size="1MB"
                                                                ngf-max-size="10MB"
                                                                ngf-min-width="500"
                                                                ngf-min-height="500"
                                                            >
                                                                <em>Sleep een foto of klik om een foto te selecteren</em>
                                                            </div>
                                                            <p class="text-danger" ng-show="licensePicturesForm.back.$error.minHeight || licensePicturesForm.back.$error.minWidth ">
                                                                De foto moet minimaal 500px breed en hoog zijn.
                                                            </p>
                                                            <p class="text-danger" ng-show="licensePicturesForm.back.$error.minSize || licensePicturesForm.back.$error.maxSize">
                                                                De bestandsgrootte van de foto moet tussen de 1 en 10 megabyte liggen.
                                                            </p>
                                                            <p class="text-danger" ng-show="licensePicturesForm.back.$error.pattern">
                                                                Selecteer ajb een foto-bestand.
                                                            </p>
                                                            <p class="text-danger" ng-show="licensePicturesForm.back.$error.required && dl_submitted">
                                                                Selecteer ajb een foto-bestand.
                                                            </p>
                                                        </div>
                                                        <p ng-if="licensePage.back">
                                                            <img
                                                                class="img-responsive"
                                                                ng-src="/assets/uploadspinner.gif"
                                                                ngf-thumbnail="licensePage.back"
                                                                ngf-size="{ width: 300, height: 200, quality: 0.9 }"
                                                            />
                                                        </p>
                                                        <p ng-if="licensePage.back">
                                                            (<a href="#" ng-click="licensePage.back = null">Ander bestand uploaden</a>)
                                                        </p>
                                                    </div>
                                                </div>
                                            </form>

                                            <div ng-show="licensePage.country === 'NL'">
                                                <form class="mywheels-form ng-pristine ng-valid-min ng-valid-max ng-valid-pattern ng-valid-maxlength ng-valid" name="licenseDataForm">
                                                    <div class="licenseNumberGroup">
                                                        <h3 class="ng-binding">{{ 'LICENSE_NUMBER' | translate }}</h3>
                                                        <div id="licenseNumber_group" class="icon payment">
                                                            <input name="driverLicenseNumber" id="driverLicenseNumber" ng-model="licensePage.driverLicense" placeholder="Rijbewijsnummer" class="ng-pristine ng-untouched ng-valid" aria-invalid="false" type="text" pattern="[0-9]*" maxlength="10" ng-change="licenseNumberValid = true" required>
                                                        </div>
                                                        <div id="licenseNumberRepeat_group" class="icon replay" ng-show="licensePage.driverLicense.length === 10">
                                                            <input ng-paste="$event.preventDefault();" name="driverLicenseNumberRepeat" id="driverLicenseNumberRepeat" ng-model="licensePage.driverLicenseRepeat" placeholder="Voer opnieuw je rijbewijsnummer in" class="ng-pristine ng-untouched ng-valid" aria-invalid="false" type="text" pattern="[0-9]*" maxlength="10" required>
                                                        </div>
                                                        <div class="err-block" ng-if="!isBusy && (!licenseNumberValid || !licenseNumberRepeatValid || !licenseNumberMatch)" aria-hidden="true">
                                                            <span class="text-danger ng-binding" aria-hidden="true" ng-show="!licenseNumberValid">{{ 'INCORRECT_LICENSE' | translate }}</span>
                                                            <span class="text-danger ng-binding" aria-hidden="true" ng-show="(!licenseNumberRepeatValid || !licenseNumberMatch) && licenseNumberValid && licensePage.driverLicense !== licensePage.driverLicenseRepeat">{{ 'LICENSE_NUMBERS_NO_MATCH' | translate }}</span>
                                                        </div>
                                                    </div>

                                                    <div class="autoDateInput">
                                                        <h3 class="ng-binding">{{ 'LICENSE_DATE' | translate }}</h3>
                                                        <div id="date" class="icon date">
                                                            <input id="day" name="day" inputmode="numeric" pattern="[0-9]*" ng-model="licenseDate.day" placeholder="DD" maxlength="2" max="31" min="0" class="ng-pristine ng-untouched ng-valid ng-valid-min ng-valid-max ng-valid-pattern ng-valid-maxlength" aria-invalid="false" type="number" required="">
                                                            
                                                            <select id="month" name="month" ng-model="licenseDate.month" ng-options="month.value as month.label for month in months" class="maand">
                                                                <option value="">maand</option>
                                                            </select>
                                                            
                                                            <input id="year" name="year" inputmode="numeric" pattern="[0-9]*" ng-model="licenseDate.year" placeholder="JJJJ" maxlength="4" max="{{ validLicenseMax }}" min="{{ validLicenseMin }}" class="ng-pristine ng-untouched ng-valid ng-valid-min ng-valid-max ng-valid-pattern ng-valid-maxlength" aria-invalid="false" type="number" required="">
                                                        </div>

                                                        <div class="err-block" ng-if="!isBusy && (!licenseDateValid || !licenseDataForm.day.$valid || !licenseDataForm.month.$valid || (!licenseDataForm.year.$valid && licenseDataForm.year.$viewValue.length > 3))" aria-hidden="true">
                                                            <span class="text-danger ng-binding" aria-hidden="true">{{ 'LICENSE_DATE_INVALID' | translate }}</span>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="nav-buttons">
                                        <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="prevSection(0, 1)">
                                            <ng-md-icon icon="navigate_before"></ng-md-icon>
                                            {{ 'PREVIOUS' | translate}}
                                        </button>
                                        <div>
                                            <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="skipFlow()" ng-show="$root.isWindowSizeSM && isbooking && !licenseUploaded">
                                                {{ 'LATER' | translate}}
                                                <ng-md-icon icon="navigate_next"></ng-md-icon>
                                            </button>
                                            <button rel="next" type="button" class="mywheels-btn mywheels-btn-big mywheels-btn-call-to-action" md-ink-ripple="#8f6700" ng-click="submitDriverLicense()" ng-if="!licenseUploaded">
                                                {{ 'NEXT' | translate}}
                                                <ng-md-icon icon="navigate_next" class="text-white"></ng-md-icon>
                                            </button>
                                            <button rel="next" type="button" class="mywheels-btn mywheels-btn-big mywheels-btn-call-to-action" md-ink-ripple="#8f6700" ng-click="nextSection()" ng-if="licenseUploaded">
                                                {{ 'NEXT' | translate}}
                                                <ng-md-icon icon="navigate_next" class="text-white"></ng-md-icon>
                                            </button>
                                        </div>
                                    </div>

                                    <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="skipFlow()" ng-show="!$root.isWindowSizeSM && isbooking && !licenseUploaded"
                                            style="float: right;">
                                        {{ 'LATER' | translate}}
                                        <ng-md-icon icon="navigate_next"></ng-md-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--/ card -->

                    <!-- THIRD PAGE / PAYMENT OR MAKE BOOKING -->
                    <div class="card inverted-heading" ng-show="showThird">
                        
                        <!-- (3.1) if person didn't create a booking but filled in personal information -->
                        <div ng-if="!isBusy && !isbooking">
                            <div class="card-heading main-heading">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <h2 class="card-title">{{ 'DETAILS_PROFILE_PHOTO' | translate }}</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <p class="lead">{{ 'DETAILS_PROFILE_SEARCH' | translate }} </p>
                                        <!-- call to action buttons -->
                                        <div class="nav-buttons">
                                            <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="prevSection(1, 2)">
                                                <ng-md-icon icon="navigate_before"></ng-md-icon>
                                                {{ 'PREVIOUS' | translate}}
                                            </button>
                                            <button type="button" name="button" ui-sref="owm.resource.search.list" class="mywheels-btn mywheels-btn-big mywheels-btn-call-to-action" md-ink-ripple="#8f6700">
                                                {{ 'SEARCH_CAR' | translate }}
                                                <ng-md-icon icon="navigate_next" class="text-white"></ng-md-icon>
                                            </button>
                                        </div>
                                        <!-- /call to action buttons -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- (3.2) -->
                        <div ng-if="isBusy && isbooking">
                            <div class="card-heading main-heading">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <h2 class="card-title">
                                            Je reservering wordt gemaakt...
                                        </h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1" style="text-align: center;">
                                        <spinner />
                                        <p ng-if="isBusy === 'creating_booking'" style="font-size: 120%;">
                                            Je reservering wordt gemaakt...
                                        </p>
                                        <div ng-if="isBusy === 'checking_account'">
                                            <p style="font-size: 120%;">Je account wordt gecontroleerd...</p>
                                            <p>Een moment geduld, dit duurt meestal ongeveer 30 seconden...</p>
                                        </div>
                                        <p ng-if="isBusy === true" style="font-size: 120%;">
                                            Nog heel even wachten...
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- (3.3) if RentalCheck error -->
                        <div ng-if="!isBusy && errorCreateBooking">
                            <div class="card-heading main-heading">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <h2 class="card-title">Foutmelding</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <p ng-if="errorRentalCheck || errorMessage">Vanwege onderstaande fout kon de boeking helaas niet gemaakt worden:</p>
                                        <p ng-if="errorRentalCheck"><strong>{{ errorRentalCheckMessage }}</strong></p>
                                        <p ng-if="errorMessage"><strong>{{ errorMessage }}</strong></p>
                                        <p ng-if="!errorRentalCheck && !errorMessage">Vanwege een overwachte fout kon de boeking helaas niet gemaakt worden. Neem contact met ons op via het <a href="https://mywheels.nl/autodelen/community/contact/" target="_blank">contactformulier</a>.</p>

                                        <!-- call to action buttons -->
                                        <div class="nav-buttons">
                                            <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="prevSection(1, 2)">
                                                <ng-md-icon icon="navigate_before"></ng-md-icon>
                                                {{ 'PREVIOUS' | translate}}
                                            </button>
                                        </div>
                                        <!-- /call to action buttons -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- (3.4) if resource is not available for person -->
                        <div ng-if="!isBusy && !isAvailable">
                            <div class="card-heading main-heading">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <h2 class="card-title">{{ 'DETAILS_PROFILE_NOT_AVAILABLE' | translate }}</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <p>{{ 'DETAILS_PROFILE_NOT_AVAILABLE_text' | translate }} </p>
                                        <!-- call to action buttons -->
                                        <div class="nav-buttons">
                                            <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="prevSection(1, 2)">
                                                <ng-md-icon icon="navigate_before"></ng-md-icon>
                                                {{ 'PREVIOUS' | translate}}
                                            </button>
                                            <button type="button" name="button" ui-sref="owm.resource.search.list({ start: bookingStart ,end: bookingEnd})" class="mywheels-btn mywheels-btn-big mywheels-btn-call-to-action" md-ink-ripple="#8f6700">
                                                {{ 'SEARCH_CAR' | translate }}
                                                <ng-md-icon icon="navigate_next" class="text-white"></ng-md-icon>
                                            </button>
                                        </div>
                                        <!-- /call to action buttons -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- (3.5) if person is created and already paid -->
                        <div ng-if="!isBusy && isbooking && !errorCreateBooking && booking.approved === 'OK'" ng-hide="!isAvailable">
                            <div class="card-heading main-heading">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <h2 class="card-title">{{ 'DETAILS_PROFILE_BOOKING_PAID' | translate }}</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <p>De reservering is geaccepteerd en het bedrag is betaald. Alles is in orde voor je rit en je kan goed verzekerd op weg.</p>
                                        <p>&nbsp;</p>
                                        <center>
                                            <button rel="next" type="button" class="mywheels-btn mywheels-btn-big mywheels-btn-call-to-action" md-ink-ripple="#8f6700" ui-sref="owm.booking.show({ bookingId: booking.id })">
                                                {{ 'BOOKING_INFO' | translate }}
                                                <ng-md-icon icon="navigate_next" class="text-white"></ng-md-icon>
                                            </button>
                                        </center>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- (3.6) if booking is created and person can pay -->
                        <div ng-if="!isBusy && isbooking && !errorCreateBooking && booking.approved !== 'OK'" ng-hide="!isAvailable">
                            <div class="card-heading main-heading">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <h2 class="card-title">{{ 'DETAILS_PROFILE_NEARLY' | translate }}</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-10 col-sm-offset-1">
                                        <p ng-if="booking.approved === 'BUY_VOUCHER'">
                                            {{ 'DETAILS_PROFILE_PAY_APPROVED' | translate }}
                                        </p>
                                        <p ng-if="booking.approved !== 'BUY_VOUCHER'" translate="DETAILS_PROFILE_PAY_NOT_APPROVED" translate-values="{firstName: booking.resource.owner.firstName }"></p>
                                        <voucher booking="booking" me="me" ng-if="bookingFound && isbooking"></voucher>
                                        <div ng-if="!accountApproved">
                                            <p class="mywheels-btn-margin-top">
                                                <b>Let op:</b> om de betaling te kunnen verwerken, moet de tenaamstelling van de rekening overeenkomen met je accountnaam.
                                            </p>
                                        </div>
                                        <p ng-if="booking.approved !== 'BUY_VOUCHER' ">
                                            {{ 'DETAILS_PROFILE_PAY_NOT_APPROVED_OTHER' | translate }}
                                        </p>
                                        <div class="nav-buttons">
                                            <button rel="prev" type="button" class="mywheels-btn mywheels-btn-border" md-ink-ripple="#555" ng-click="prevSection(1, 2)">
                                                <ng-md-icon icon="navigate_before"></ng-md-icon>
                                                {{ 'PREVIOUS' | translate}}
                                            </button>
                                            <div>
                                                <button type="button" name="button" class="mywheels-btn mywheels-btn-border" ng-if="booking.approved !== 'BUY_VOUCHER' " ui-sref="owm.person.aboutme">
                                                    {{ 'FILL_PERSON_INFO' | translate }}
                                                    <ng-md-icon icon="navigate_next"></ng-md-icon>
                                                </button>
                                                <button rel="next" type="button" class="mywheels-btn mywheels-btn-big mywheels-btn-call-to-action" md-ink-ripple="#8f6700" ng-click="buyVoucher()">
                                                    {{ 'PAY' | translate}}
                                                    <ng-md-icon icon="navigate_next" class="text-white"></ng-md-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <!--/ card -->
                </div>
                <div class="rpad col-md-4 col-xs-12" ng-show="withSidebar">
                    <div class="card" ng-if="booking.id && !booking.ok && person.status === 'book-only' && person.driverLicenseStatus !== 'pending'">
                        <div class="card-body card-inverse mw-warning">
                            <h2 class="text-white">Je account is nog niet actief</h2>
                            <div class="text-white">
                                <div style="float: left; width: 42px; height: 42px; margin: 5px 10px 5px 0;">
                                  <ng-md-icon icon="warning" size="42"></ng-md-icon>
                                </div>
                                <p><strong>Let op:</strong> Je account is op dit moment nog niet actief, je kunt de auto dus ook nog niet ophalen.</p>
                                <p>Een aantal van onze controles konden niet automatisch uitgevoerd worden voor jouw account. Zodra wij deze controles hebben uitgevoerd ontvang je per mail bericht over het activeren van je account.</p>
                            </div>
                        </div>
                    </div>

                    <section resource-sidebar ng-if="isbooking"></section>
                </div>
            </div>
        </div>
    </div>
</div>
