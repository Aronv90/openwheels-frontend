<md-dialog flex-gt-md="50" flex-md="60" flex="80" >

	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>Upload foto</h2>
			<span flex></span>
			<md-button class="md-icon-button" ng-click="cancel()">
				<ng-md-icon icon="close"></ng-md-icon>
			</md-button>
		</div>
	</md-toolbar>

	<md-dialog-content>
    <div class="md-dialog-content">
      <div layout="column" class="resource-ui-cropper">

        <div flex ng-show="!image" >
          <p class="text-center"><file-input-change file-props="fileProps" on-change="newImage" /></p>
          <div ng-if="fileProps.hasUploaded">
            <span class="inputfile-error" ng-if="!fileProps.isImage">Alleen afbeeldingstypen worden ondersteund (.jpg, .jpeg, .png).</span>
            <span class="inputfile-error" ng-if="fileProps.isImage && !fileProps.sizeOk">Deze afbeelding is te klein, de minimale grootte moet 800x600 zijn.</span>
          </div>
        </div>

        <div flex class="editor" ng-show="showEditor">

          <ui-cropper flex cropject="crapject" init-max-area="true" max-canvas-dimensions="{w: 500, h: 500}" image="inputImage" area-type="rectangle" class="text-center" aspect-ratio="aspectratio" result-image="image" canvas-scalemode="full-width" result-image-size="resultImageSize"></ui-cropper>

          <div layout="row">
            <span flex></span>
            <md-button class="no-margin" ng-click="doneEditing()">Klaar</md-button>
            <span flex></span>
          </div>
        </div>

        <div flex ng-show="image && !showEditor">
          <p class="text-center"><img class="img-responsive" width="500" height="330" ng-src="{{image}}" /></p>

          <div layout="row">
            <span flex></span>
            <md-button class="no-margin" ng-show="!showEditor && image" ng-click="showEditor=true">Bewerken</md-button>
            <span flex></span>
          </div>
        </div>

      </div>
    </div>
	</md-dialog-content>

	<md-dialog-actions layout="row">
		<md-button ng-hide="showEditor" ng-click="cancel()">Annuleren</md-button>
    <span flex></span>
		<md-button class="md-primary" ng-hide="showEditor" ng-disabled="showEditor || !image" md-no-ink ng-click="return()">Opslaan</md-button>
	</md-dialog-actions>

</md-dialog>